<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Javascript Lab 4</title>
        <style type="text/css">

            #main {
                background-color: rgb(105,15,36);
            }

            .todo_header_div {
                display: flex;
                flex-direction: row;
                justify-content: space-evenly;
                background-color: rgb(86,23,68);
                border: 1px solid black;
            }

            h1 {
                color: rgb(244,255,190);
            }

            .btn:hover {
                background-color: rgb(105,15,36);
            }

            .btn:active {
                box-shadow: none;
            }

            #new_todo_btn {
                transition: all 0.5s ease 0s;
                background-color: rgb(244,255,190);
                color: rgb(86,23,68);
                border-radius: 6px;
                margin: 20px;
            }

            #new_todo_btn:hover{
                transform: scale(1.3);
            }

            #main_container {
                color: solid rgb(105,15,36);
                width: 100%;
                display: flex;
                justify-content: space-evenly;
                flex-wrap: wrap;
                flex-direction: row;
            }

            #todo_container {
                border: 1px solid black;
                color: rgb(244,255,190);
                background-color: rgb(86,23,68);
                margin: 5%;
                width: 30%;
            }

            #input_field {
                background-color: rgb(244,255,190);
                color: rgb(86,23,68);
                border-radius: 6px;
                margin: 20px;
            }

            #input_submit_btn {
                transition: all 0.5s ease 0s;
                background-color: rgb(244,255,190);
                color: rgb(86,23,68);
                border-radius: 6px;
                margin: 20px;
            }

            #input_submit_btn:hover{
                transform: scale(1.3);
            }

        </style>
    </head>
    <body id="main">
        <div class="todo_header_div">
            <h1>To Do:</h1>
            <div id="input_div"></div>
            <button class="btn" id="new_todo_btn">New To Do</button>
        </div>

        <script type="text/javascript">

            let main = document.querySelector("#main")
            let main_container = document.createElement("div")
            let new_todo_btn = document.querySelector("#new_todo_btn")
            main.appendChild(main_container)



            new_todo_btn.addEventListener('click', function() {

                if (input_div.children.length == 0) {
                    let input_field = document.createElement("input")
                    let input_submit_btn = document.createElement("button")
                    let input_div = document.querySelector("#input_div")
                    input_field.id="input_field"
                    input_submit_btn.id="input_submit_btn"
                    input_submit_btn.innerText = "Add"

                    input_div.appendChild(input_field)
                    input_div.appendChild(input_submit_btn)
                    input_submit_btn.addEventListener('click', function() {
                        addItem()
                    })
                }
            })



            function addItem(text) {
                let input_field = document.querySelector("#input_field")
                main_container.id="main_container"
                let todo_container = document.createElement("div")
                todo_container.id="todo_container"
                let todo_ul = document.createElement("ul")
                let todo_li = document.createElement("li")

                todo_li.innerText = input_field.value
                main_container.appendChild(todo_container)
                todo_container.appendChild(todo_ul)
                todo_ul.appendChild(todo_li)
                input_div.removeChild(input_div.firstChild)
                input_div.removeChild(input_div.firstChild)
            }

        </script>
    </body>
</html>
